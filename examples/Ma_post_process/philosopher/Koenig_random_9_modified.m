% Number of robots
N = 35;
% Workspace
numRows = 30;
numCols = 30;
parameters = [...
 10,21,4,23,0.506745;
 11,25,1,17,0.901822;
 0,12,1,24,0.855937;
 2,23,20,20,0.915281;
 22,5,14,19,0.703345;
 2,2,6,27,0.997299;
 28,13,17,9,0.721793;
 21,27,17,22,0.736885;
 4,11,18,13,0.853053;
 1,20,19,27,0.588305;
 15,16,25,12,0.676992;
 6,25,5,12,0.640553;
 4,1,4,0,0.971892;
 5,10,19,2,0.829173;
 23,6,0,17,0.901502;
 10,17,8,20,0.908002;
 4,2,2,13,0.500092;
 13,22,11,24,0.792993;
 11,24,5,6,0.74456;
 1,29,13,10,0.535539;
 29,9,0,14,0.566073;
 16,19,4,20,0.992264;
 20,7,1,10,0.725623;
 9,3,22,4,0.544298;
 13,20,28,11,0.618564;
 22,14,5,25,0.7949;
 22,7,26,5,0.848521;
 25,1,27,5,0.849757;
 21,26,4,19,0.880032;
 28,24,19,9,0.876537;
 19,18,0,21,0.807352;
 27,20,14,2,0.956725;
 8,29,3,15,0.824503;
 2,11,12,6,0.599414;
 11,26,1,3,0.912122;];

% Paths
Paths = cell(35,1);
Paths{1} = [374 375 343 311 312 312 280 248 216 216 216 216 184];
Paths{2} = [410 378 346 346 346 346 346 314 282 282 250 249 217 185 153 152 151 150 118 117 116 115 114 82];
Paths{3} = [45 46 47 48 49 50 51 52 53 54 55 56 57 89];
Paths{4} = [120 152 151 150 149 181 213 245 277 309 341 373 405 437 469 501 533 565 597 629 661 693];
Paths{5} = [742 743 744 745 746 747 715 716 684 685 686 654 655 656 657 658 626 594 562 530 498 499 500];
Paths{6} = [99 100 101 102 103 104 105 73 41 42 43 44 45 46 47 48 49 50 51 52 53 85 117 149 150 151 152 153 185 186 187 219 251 252];
Paths{7} = [942 910 909 877 845 813 812 780 780 780 780 779 747 715 683 651 650 618 586];
Paths{8} = [732 700 668 668 667 666 665 664 663 631 599];
Paths{9} = [172 204 236 237 269 301 333 365 397 429 461 462 462 494 526 558 590 622];
Paths{10} = [85 86 118 119 151 183 215 247 279 311 343 375 407 439 471 503 535 567 568 600 632 664 665 666 667 668];
Paths{11} = [529 528 527 526 558 590 622 654 686 718 750 782 781 813 845];
Paths{12} = [250 249 248 247 246 246 246 246 246 245 245 245 245 245 245 245 245 245 245 245 245 245 245 245 245 244 244 244 244 244 243 242 241 240 208 207 206 206 205];
Paths{13} = [162 161];
Paths{14} = [203 202 201 200 199 198 230 229 261 293 292 324 356 388 420 452 484 516 548 580 579 611 643];
Paths{15} = [775 807 808 809 810 810 810 810 811 812 813 814 815 816 784 785 753 754 722 690 658 626 594 562 530 529 497 465 433 401 369 337 305 273 241 209 177 145 113 81 49 50];
Paths{16} = [370 371 372 340 308 308 308 308 308 308 308 309];
Paths{17} = [163 164 165 166 167 168 136 137 138 139 140 141 142 110];
Paths{18} = [471 439 440 441 409];
Paths{19} = [409 377 376 375 374 373 372 371 370 369 368 367 366 365 364 363 362 361 360 359 327 295 263 231 199];
Paths{20} = [94 93 92 91 90 89 88 87 86 85 84 83 82 81 113 112 144 176 208 207 239 271 303 335 334 333 365 397 396 428 460 459];
Paths{21} = [970 971 939 907 875 843 811 779 747 715 716 684 685 653 621 589 557 525 493 461 429 397 365 333 301 269 237 205 206 174 142 143 111 79 47];
Paths{22} = [564 565 533 533 533 501 469 437 405 406 374 342 310 278 246 247 215 183 182 182 182 181];
Paths{23} = [680 681 649 650 618 586 587 555 523 491 459 427 395 363 331 299 267 235 236 204 172 140 108 76 75];
Paths{24} = [324 356 388 420 452 484 516 548 580 612 644 676 708 740 741];
Paths{25} = [469 501 500 499 498 497 496 495 494 526 558 590 622 654 686 718 750 782 781 780 812 811 843 875 907 939 940];
Paths{26} = [751 752 753 754 755 756 757 758 759 760 728 696 697 665 633 601 602 570 538 506 474 442 410 378 346 314 282 250 218];
Paths{27} = [744 776 775 774 806 838 870];
Paths{28} = [834 835 836 868 900 901 902];
Paths{29} = [731 699 667 635 603 602 570 538 506 474 442 410 378 377 376 344 312 311 310 278 277 276 244 212 180];
Paths{30} = [953 921 920 919 918 917 916 915 914 913 912 911 910 909 877 876 875 843 811 779 778 777 745 713 681 649 650];
Paths{31} = [659 627 595 563 531 499 467 435 436 404 372 340 308 276 244 212 180 148 149 150 118 86 54];
Paths{32} = [917 885 884 883 882 881 880 879 878 877 876 875 843 842 841 840 839 807 775 743 711 679 678 677 676 644 612 580 548 516 515 483];
Paths{33} = [318 317 316 315 314 282 250 249 217 185 184 183 182 181 180 179 178 177 145 145 145 145 145 145 144];
Paths{34} = [108 140 139 138 137 169 201 200 232 231 263 295 327 359 391 423];
Paths{35} = [411 379 347 348 316 284 283 251 219 187 155 123 122 121 120 119 118 117 116 115 114 113 112 111 79 47 46 45 44 43 42 41 40 72 71 70 69 68];

for n = 1:35
	y =  floor(Paths{n}/32) - 1;
	x = mod(Paths{n},32) -1;
	Paths{n} = y + x*30 +1;
    p = 2;
%     while p <= length(Paths{n})
%         if Paths{n}(p) == Paths{n}(p-1)
%             Paths{n}(p) = [];
%         else
%             p = p + 1;
%         end
%     end
end

% Init/Final Conditions, Delay Prob
initial_locations = zeros(1,N);
final_locations = zeros(1,N);
for i = 1:N
   initial_locations(i) = Paths{i}(1);
   final_locations(i) = Paths{i}(end);
end
% Obstacles
obstacles = find([;
0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,;
1,0,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,;
0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,;
0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,;
0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,;
0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,;
0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,0,0,;
0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,;
0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,;
0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,;
0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1,0,0,0,1,0,0,0,1,0,;
0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,;
1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,;
0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,;
0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,;
0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,;
]);
ws = create_workspace(numRows, numCols, obstacles);