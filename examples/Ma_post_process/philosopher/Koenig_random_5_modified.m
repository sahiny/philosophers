% Number of robots
N = 35;
% Workspace
numRows = 30;
numCols = 30;
parameters = [...
 18,17,15,14,0.506745;
 6,27,13,10,0.901822;
 8,2,1,26,0.855937;
 7,4,16,13,0.915281;
 0,5,22,15,0.703345;
 14,8,23,26,0.997299;
 9,18,16,0,0.721793;
 23,24,26,18,0.736885;
 11,8,9,29,0.853053;
 21,28,0,12,0.588305;
 5,18,25,8,0.676992;
 9,14,5,27,0.640553;
 25,0,21,5,0.971892;
 26,11,24,26,0.829173;
 0,28,0,18,0.901502;
 0,12,7,11,0.908002;
 2,19,8,3,0.500092;
 21,16,18,19,0.792993;
 21,18,3,6,0.74456;
 3,12,5,22,0.535539;
 9,0,21,22,0.566073;
 7,6,9,8,0.992264;
 18,10,23,29,0.725623;
 25,4,28,28,0.544298;
 6,15,10,27,0.618564;
 6,26,11,29,0.7949;
 21,10,10,26,0.848521;
 25,21,4,15,0.849757;
 12,23,21,16,0.880032;
 7,24,23,15,0.876537;
 14,27,2,23,0.807352;
 13,20,28,0,0.956725;
 5,25,29,11,0.824503;
 22,12,12,1,0.599414;
 6,6,14,27,0.912122;];

% Paths
Paths = cell(35,1);
Paths{1} = [626 594 593 592 591 559 527];
% Paths{2} = [252 252 251 250 282 281 280 312 311 310 342 341 340 339 338 337 336 335 334 333 365 397 429 428 427 459];
Paths{2} = [252 253 252 251 250 282 281 280 312 311 310 342 341 340 339 338 337 336 335 334 333 365 397 429 428 427 459];
Paths{3} = [291 292 260 261 262 263 264 265 266 234 202 170 138 139 140 141 142 110 111 79 80 81 82 83 84 85 86 87 88 89 90 91];
Paths{4} = [261 262 294 326 358 359 391 423 455 487 488 489 490 491 492 524 556 557 558];
Paths{5} = [38 70 102 134 166 198 199 231 263 295 296 328 360 392 393 425 457 489 521 521 521 521 553 585 617 617 618 619 651 683 715 747 748 749 750 751 752];
Paths{6} = [489 521 553 585 617 649 650 682 683 715 747 748 749 750 751 752 752 753 754 786 787 788 789 790 791 792 793 794 795];
Paths{7} = [339 371 403 402 401 400 399 398 397 396 428 427 426 425 457 489 488 487 486 518 517 516 548 547 546 545];
Paths{8} = [793 792 791 790 822 821 853 852 851 883];
Paths{9} = [393 394 362 363 364 365 366 367 368 369 337 338 306 307 308 309 310 311 312 313 314 315 347 348 349 350];
Paths{10} = [733 732 731 730 729 728 727 726 725 724 723 722 721 689 657 656 624 592 560 528 496 495 494 462 430 398 366 334 302 270 269 237 205 173 141 109 77 45];
% Paths{11} = [211 243 275 307 306 338 337 336 335 334 366 398 430 462 494 526 558 590 589 621 653 685 684 683 682 714 746 778 777 809 841];
Paths{11} = [211 243 244 243 275 307 306 338 337 336 335 334 366 398 430 462 494 526 558 590 589 621 653 685 684 683 682 714 746 778 777 809 841];
Paths{12} = [335 336 337 338 339 340 341 309 277 278 279 280 281 282 283 284 252 220];
Paths{13} = [833 801 802 803 804 805 806 774 742 710];
Paths{14} = [876 877 878 879 880 881 882 914 915 916 917 918 919 920 921 922 923 891 859 827];
Paths{15} = [61 93 92 91 90 89 88 87 86 85 84 83 51];
% Paths{16} = [45 77 109 141 173 205 237 269 268];
Paths{16} = [45 46 45 77 109 141 173 205 237 269 268];
Paths{17} = [116 115 114 113 145 144 176 175 174 173 172 171 203 202 201 200 199 231 263 262 261 260 292];
Paths{18} = [721 689 690 691 659 627 628];
% Paths{19} = [723 722 721 720 688 656 624 592 560 528 496 495 494 493 461 460 459 458 426 425 393 392 360 328 296 264 232 200 199 167 135];
Paths{19} = [723 722 721 720 688 656 624 592 560 528 496 495 494 493 461 460 459 458 426 425 393 392 360 328 296 264 232 200 199 167 135];
Paths{20} = [141 142 174 206 207 208 209 210 211 212 213 214 215];
Paths{21} = [321 353 385 417 449 481 513 545 546 547 548 549 550 551 552 553 554 586 618 650 651 652 653 654 655 656 657 689 690 722 723 724 725 726 727];
Paths{22} = [263 264 296 328 329];
Paths{23} = [619 620 652 653 654 655 687 719 751 752 753 754 786 787 788 789 790 791 792 793 794 795 796 797 798];
Paths{24} = [837 869 870 902 903 904 936 937 938 939 940 941 942 943 944 945 946 947 948 949 950 951 952 953 954 955 956 957];
Paths{25} = [240 241 273 274 275 276 277 278 279 280 312 344 345 377 378 379 380];
Paths{26} = [251 283 315 347 379 411 412 413 414];
Paths{27} = [715 683 651 619 620 621 622 623 624 624 624 592 593 561 529 497 498 466 467 435 436 437 438 439 440 441 442 410 411 379];
Paths{28} = [854 853 821 789 788 756 724 723 691 659 627 627 595 563 531 499 467 435 403 371 339 307 275 243 211 210 209 208 176];
Paths{29} = [440 472 504 503 502 501 500 499 531 563 595 594 626 658 690 722 721];
Paths{30} = [281 313 345 377 409 441 473 505 537 569 601 633 665 697 729 728 727 726 725 724 723 722 754 753 752 784];
Paths{31} = [508 476 444 412 380 348 347 315 314 282 250 218 186 185 184 152 120];
Paths{32} = [469 501 500 499 498 497 496 495 494 493 492 524 556 588 587 586 618 650 682 681 680 679 711 743 742 741 773 805 837 836 835 834 833 865 897 929];
% Paths{33} = [218 250 282 281 313 345 377 409 441 473 505 537 569 568 567 599 631 663 695 694 693 692 691 690 689 688 720 752 751 750 749 781 813 845 877 876 908 940 972];
Paths{33} = [218 219 218 250 282 281 313 345 377 409 441 473 505 537 569 568 567 599 631 663 695 694 693 692 691 690 689 688 720 752 751 750 749 781 813 845 877 876 908 940 972];
Paths{34} = [749 748 747 746 714 713 681 680 679 647 646 614 582 581 580 579 578 546 514 482 450 418];
Paths{35} = [231 232 233 234 235 203 204 205 206 238 270 302 303 304 336 368 400 401 402 434 466 498 499 500 501 502 503 504 505 506 507 508];

for n = 1:35
	y =  floor(Paths{n}/32) - 1;
	x = mod(Paths{n},32) -1;
	Paths{n} = y + x*30 +1;
%     p = 2;
%     while p <= length(Paths{n})
%         if Paths{n}(p) == Paths{n}(p-1)
%             Paths{n}(p) = [];
%         else
%             p = p + 1;
%         end
%     end
end

% Init/Final Conditions, Delay Prob
initial_locations = zeros(1,N);
final_locations = zeros(1,N);
for i = 1:N
   initial_locations(i) = Paths{i}(1);
   final_locations(i) = Paths{i}(end);
end
% Obstacles
obstacles = find([;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,;
0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,;
1,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,;
1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,;
0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,;
0,1,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,;
0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,;
0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,;
0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,;
0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,;
0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,;
0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,;
0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,;
0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,;
0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,;
]);
ws = create_workspace(numRows, numCols, obstacles);