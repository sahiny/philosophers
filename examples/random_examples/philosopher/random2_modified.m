% Number of robots
N = 35;
% Workspace
numRows = 30;
numCols = 30;
parameters = [...
 29,12,14,18,0.506699;
 15,21,13,27,0.7378;
 14,13,20,11,0.583346;
 16,1,8,16,0.548082;
 11,13,17,23,0.545961;
 20,26,13,13,0.937376;
 14,1,24,23,0.674291;
 27,21,0,21,0.781564;
 20,28,26,9,0.601093;
 4,6,28,15,0.682119;
 18,19,17,20,0.67925;
 3,25,9,29,0.639882;
 0,14,14,26,0.634068;
 26,22,9,27,0.576693;
 20,25,16,4,0.562853;
 10,10,27,20,0.643437;
 20,12,1,28,0.590884;
 9,24,28,13,0.511841;
 0,17,11,29,0.71662;
 21,27,7,3,0.676595;
 29,11,20,22,0.891903;
 1,1,9,6,0.756035;
 8,15,19,8,0.996521;
 12,15,20,25,0.937269;
 18,0,3,5,0.895749;
 0,1,19,27,0.626148;
 18,24,20,4,0.523377;
 23,7,26,25,0.598346;
 7,24,3,3,0.727546;
 10,20,23,6,0.565477;
 25,22,8,6,0.761559;
 7,8,18,15,0.634205;
 21,29,1,1,0.611927;
 18,13,27,14,0.706977;
 9,27,15,7,0.641575;];

% Paths
Paths = cell(35,1);
Paths{1} = [973 974 942 910 878 846 847 815 783 784 784 752 720 688 656 657 658 626 594 562 530 498 499];
Paths{2} = [534 535 536 537 538 539 507 475 476];
Paths{3} = [494 526 525 557 589 588 620 652 684];
Paths{4} = [546 578 579 580 580 580 580 581 582 583 584 585 586 587 588 589 557 558 526 494 462 430 431 399 367 335 303 304 305];
Paths{5} = [398 430 431 432 464 465 466 467 468 469 470 471 503 504 536 568 600];
Paths{6} = [699 667 635 634 633 601 569 568 567 566 565 533 532 500 499 498 497 497 497 497 497 497 497 497 496 495 495 495 495 495 495 495 495 494 462];
Paths{7} = [482 483 484 485 486 487 488 489 490 491 523 524 525 526 527 559 591 623 655 687 719 751 752 753 754 755 756 757 789 790 791 792 824];
Paths{8} = [918 917 885 853 821 789 757 725 693 694 662 630 598 566 534 535 503 471 439 407 375 343 311 279 247 215 183 182 150 118 86 54];
Paths{9} = [701 733 732 731 730 729 761 760 759 791 790 789 788 820 819 818 850 882 881 880 879 878 877 876 875 874];
Paths{10} = [167 168 169 201 233 265 297 298 330 362 363 395 396 428 460 492 524 525 557 589 590 622 654 686 718 750 782 814 846 878 910 942 943 944];
Paths{11} = [628 596 597];
Paths{12} = [154 155 187 219 251 283 284 285 317 318 350];
Paths{13} = [47 79 111 143 175 207 239 271 303 335 367 399 400 401 402 403 404 405 406 438 470 471 472 473 474 506 507];
Paths{14} = [887 888 889 890 858 826 794 762 730 698 666 634 602 570 571 539 507 475 443 444 412 380 348];
Paths{15} = [698 697 696 695 694 693 692 691 691 659 627 626 625 624 623 622 590 589 588 587 586 585 584 583 582 581 549];
Paths{16} = [363 395 396 428 460 492 524 523 555 587 619 651 683 715 747 748 749 750 751 752 753 754 755 756 788 820 852 884 916 917];
Paths{17} = [685 686 687 688 656 657 658 626 627 628 596 564 565 533 501 469 470 470 470 471 472 473 474 475 443 444 412 413 381 349 317 285 253 221 189 157 125 93];
Paths{18} = [345 346 378 378 378 378 410 409 408 407 406 405 404 436 468 500 532 564 563 595 627 626 625 657 656 688 720 719 751 783 815 847 879 878 910 942];
Paths{19} = [50 51 52 84 116 148 180 212 244 276 277 278 279 280 281 282 283 284 285 317 349 381 413 414];
Paths{20} = [732 731 699 667 635 634 602 570 538 506 474 442 410 409 408 407 375 374 373 341 340 339 338 337 305 304 272 271 270 269 268 300 299 298 297 265 264 263 231 230 229 261 260];
Paths{21} = [972 972 972 973 974 975 943 944 945 946 914 915 916 917 885 853 854 855 823 791 759 727 695];
Paths{22} = [66 67 99 131 132 164 196 197 229 261 293 325 326 327];
Paths{23} = [304 303 302 303 335 367 399 398 430 462 494 526 558 590 622 654 653 652 651 650 649];
% Paths{24} = [432 464 465 466 467 468 469 501 533 534 535 536 568 569 601 633 665 697 698];
Paths{24} = [432 433 434 435 467 468 469 501 533 534 535 536 568 569 601 633 665 697 698];
Paths{25} = [609 610 611 612 613 581 549 517 485 453 421 389 357 356 324 292 293 261 229 197 165 133 134];
Paths{26} = [34 35 36 37 69 70 71 72 73 105 137 138 139 140 141 142 143 144 145 146 147 148 180 212 244 276 308 340 341 373 405 406 438 470 471 503 535 567 568 569 601 633 665 666 667 668];
Paths{27} = [633 632 664 663 662 661 660 659 658 657 656 655 687 687 655 654 653 652 651 650 682 681 680 679 678 677];
Paths{28} = [776 777 778 779 747 748 749 750 751 752 753 785 786 787 788 820 852 853 854 855 887 888 889 890];
Paths{29} = [281 280 279 278 277 276 275 274 273 272 240 239 238 237 236 235 234 233 201 200 199 167 166 165 164 132];
Paths{30} = [373 405 404 403 402 401 400 399 398 430 429 428 460 459 491 523 555 587 619 619 619 651 683 715 747 779 778 777 776 775];
Paths{31} = [855 823 791 759 727 727 695 663 662 630 629 628 627 595 594 562 530 529 528 527 526 525 524 523 491 490 489 488 456 424 392 360 328 296 295];
Paths{32} = [265 297 329 361 362 394 395 396 428 460 492 493 494 495 496 528 560 592 624];
Paths{33} = [734 702 670 669 668 667 666 665 664 632 600 599 567 535 503 471 439 407 375 374 373 341 340 339 338 306 274 273 272 271 270 269 268 236 235 234 233 201 200 199 167 166 165 164 163 162 130 98 66];
Paths{34} = [622 654 654 686 718 750 782 814 846 878 910 911];
Paths{35} = [348 380 379 411 410 409 408 407 406 405 404 403 402 434 433 432 431 430 429 428 460 459 491 490 489 488 520];

for n = 1:35
	y =  floor(Paths{n}/32) - 1;
	x = mod(Paths{n},32) -1;
	Paths{n} = y + x*30 +1;
    p = 2;
%     while p <= length(Paths{n})
%         if Paths{n}(p) == Paths{n}(p-1)
%             Paths{n}(p) = [];
%         else
%             p = p + 1;
%         end
%     end
%     Paths{n} = unique(Paths{n}, 'stable');
end

% Init/Final Conditions, Delay Prob
initial_locations = zeros(1,N);
final_locations = zeros(1,N);
for i = 1:N
   initial_locations(i) = Paths{i}(1);
   final_locations(i) = Paths{i}(end);
end
% Obstacles
obstacles = find([;
0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,;
1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,;
0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,;
0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,;
0,1,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,;
0,0,0,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,;
0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,;
0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,;
0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,;
0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,;
0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,;
0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,;
0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,;
0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,;
0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,1,0,0,0,;
]);
ws = create_workspace(numRows, numCols, obstacles);